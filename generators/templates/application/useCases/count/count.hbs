import { Injectable } from '@nestjs/common';

import { {{ pascalCase name }}Repository } from 'domain/repositories/{{ pascalCase name }}Repository';

import { type Count{{ pascalCasePlural name }}UseCaseRequestDTO } from 'application/dtos/{{ camelCase name }}/Count{{ pascalCasePlural name }}UseCaseDTO';

@Injectable()
export class Count{{ pascalCasePlural name }}UseCase {
  constructor(private readonly {{ camelCase name }}Repository: {{ pascalCase name }}Repository) {}

  async execute(request: Count{{ pascalCasePlural name }}UseCaseRequestDTO): Promise<number> {
    const {{ camelCase name }} = await this.{{ camelCase name }}Repository.count({ where: request.where });

    return {{ camelCase name }};
  }
}

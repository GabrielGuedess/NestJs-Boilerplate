import { type {{pascalCase name}} as Raw{{pascalCase name}} } from '@root/prisma/generated/prisma/client';

import { {{pascalCase name}} } from 'domain/entities/{{camelCase name}}/{{pascalCase name}}';

export class Prisma{{pascalCase name}}Mapper {
  static toPrisma({{camelCase name}}: {{pascalCase name}}): Raw{{pascalCase name}} {
    return {
      id: {{camelCase name}}.id,
      {{#each fields}}
      {{snakeCase this.name}}: {{camelCase ../name}}.{{camelCase this.name}},
      {{/each}}
    };
  }

  static toDomain(raw: Raw{{pascalCase name}}): {{pascalCase name}} {
    const {{camelCase name}} = new {{pascalCase name}}(
      {
        {{#each fields}}
        {{snakeCase this.name}}: raw.{{snakeCase this.name}},
        {{/each}}
      },
      raw.id,
    );

    return {{camelCase name}};
  }
}
